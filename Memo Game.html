<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="./CSS/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">
    <title>iagi-Travel</title>
</head>
<body>
    <div class="content text-center">
        <h1>MEMORY GAME</h1>
        <span id="play"><button id="start">START</button></span>
        <div class="jeu">
            <div class="case" ><img id="img1" src="https://www.pngkey.com/png/detail/14-148130_minion-imagenes-de-100x100-pixeles.png" /></div>
            <div class="case" ><img id="img2" src="https://www.pngkey.com/png/detail/14-148130_minion-imagenes-de-100x100-pixeles.png" /></div>
            <div class="case" ><img id="img3" src="https://st5.depositphotos.com/68114936/66369/v/450/depositphotos_663691346-stock-illustration-illustration-of-the-character-minion.jpg" /></div>
            <div class="case" ><img id="img4" src="https://st5.depositphotos.com/68114936/66369/v/450/depositphotos_663691346-stock-illustration-illustration-of-the-character-minion.jpg" /></div>
            <hr />
            <div class="case" ><img id="img5" src="https://img.freepik.com/photos-premium/personnage-dessin-anime-mignon-3d-minions-ai-generatif_913665-606.jpg" /></div>
            <div class="case" ><img id="img6" src="https://img.freepik.com/photos-premium/personnage-dessin-anime-mignon-3d-minions-ai-generatif_913665-606.jpg" /></div>
            <div class="case" ><img id="img7" src="https://t4.ftcdn.net/jpg/02/07/14/61/360_F_207146113_pYxJxXnycGDGGJWWHv3Xp59iqH7Q5TPk.jpg" /></div>
            <div class="case" ><img id="img8" src="https://t4.ftcdn.net/jpg/02/07/14/61/360_F_207146113_pYxJxXnycGDGGJWWHv3Xp59iqH7Q5TPk.jpg" /></div>
            <hr />
            <div class="case" ><img id="img9" src="https://images.alphacoders.com/740/74003.jpg" /></div>
            <div class="case" ><img id="img10" src="https://images.alphacoders.com/740/74003.jpg" /></div>
            <div class="case" ><img id="img11" src="https://cdn.wallpapersafari.com/75/57/4uG0wm.jpg" /></div>
            <div class="case" ><img id="img12" src="https://cdn.wallpapersafari.com/75/57/4uG0wm.jpg" /></div>
            <hr />
            <div class="case" ><img id="img13" src="https://wallpaperswide.com/download/flash-wallpaper-768x1024.jpg" /></div>
            <div class="case" ><img id="img14" src="https://wallpaperswide.com/download/flash-wallpaper-768x1024.jpg" /></div>
            <div class="case" ><img id="img15" src="https://img.freepik.com/premium-photo/hacker_637484-4345.jpg?size=626&ext=jpg&ga=GA1.1.386372595.1697673600&semt=ais" /></div>
            <div class="case" ><img id="img16" src="https://img.freepik.com/premium-photo/hacker_637484-4345.jpg?size=626&ext=jpg&ga=GA1.1.386372595.1697673600&semt=ais" /></div>
        </div>
    </div>
    <script>
            var cases=document.querySelectorAll('.case');
            var selecteditem;
            var guessed=0;
            cases.forEach((selectedcase) => {
                selectedcase.addEventListener("click",function(){
                    var img=selectedcase.querySelector('img');
                    if(selecteditem==null){
                        selecteditem=img;
                        selecteditem.style.visibility='visible';
                    }else if(img.src==selecteditem.src){
                        selecteditem.style.visibility='visible';
                        img.style.visibility='visible';
                        guessed=guessed+2;
                        selecteditem=null;
                    }else{
                        img.style.visibility='visible';
                        setTimeout(() => {
                            selecteditem.style.visibility = 'hidden';
                            img.style.visibility = 'hidden';
                            selecteditem = null;
                        }, 700);
                    }
                });
            });
            var start=document.getElementById('start');
            start.addEventListener('click',function(){
                start.style.display='none';
                let seconds = 60;
                let minuteur=document.getElementById('play');
                const interval = setInterval(function() {
                    minuteur.innerHTML='<p> <i class="fa-solid fa-hourglass-half fa-spin" style="color: #ffffff;margin-right:20px"></i> '+seconds+'s </p>';
                    seconds--;
                    if(guessed==cases.length){
                        clearInterval(interval);
                        minuteur.innerHTML='<p id="winner">WINNER!</p>';
                    }
                    if (seconds === 0) {
                        clearInterval(interval);
                        minuteur.innerHTML='<p id="loser">LOSER!</p>';
                    }
                }, 1000);
                cases.forEach((selectedcase) => {
                    selectedcase.querySelector('img').style.visibility='hidden';
                });
                for(i=0;i<20;i++){
                    let randomIndex1 = Math.floor(Math.random() * cases.length);
                    let randomIndex2 = Math.floor(Math.random() * cases.length);
                    img1=cases[randomIndex1].querySelector('img');
                    img2=cases[randomIndex2].querySelector('img');
                    a=img1.src;
                    img1.src=img2.src;
                    img2.src=a;
                }
                
            })
    </script>
</body>
</html>